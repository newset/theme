/*
 * ************************************************************* *
 * Name       : Slide to unlock                                  *
 * Date       : Feb 2013                                         *
 * Owner      : CreativeMilk                                     *
 * Url        : www.creativemilk.net                             *
 * Version    : 1.0                                              *
 * Updated    : 2013-12-21 23:54:14 UTC+02:00                    *
 * Developer  : Mark                                             *
 * Dependency : jQuery UI core                                   *
 * Lib        : jQuery 1.7+                                      *
 * Licence    : NOT free                                         *
 * This is part of a themeforest file                            *
 * ************************************************************* *
 */

;(function(e){if(typeof define==="function"&&define.amd){define([jquery],e)}else{e(jQuery)}})(function(e){function n(n,r){this.obj=e(n);this.o=e.extend({},e.fn[t].defaults,r);this.init()}var t="lockScreen";n.prototype={init:function(){var t=this;e("body").addClass("lockscreen-ready");if(t.o.type=="slider"){t.obj.append('<div class="lockscreen-slider">'+'<div class="lockscreen-slider-inner">'+'<div class="lockscreen-slider-text">'+t.o.unlockText+"</div>"+"</div>"+"</div>");t._slider()}else if(t.o.type=="button"){t.obj.append('<div class="lockscreen-button">'+'<a href="#" class="btn btn-default">'+t.o.submitText+"</a>"+"</div>");t._button()}else{t.obj.append('<form action="" class="lockscreen-form">'+'<input type="password" class="lockscreen-password form-control" placeholder="'+t.o.unlockText+'"/>'+'<input type="submit" value="'+t.o.submitText+'" class="btn btn-default btn-block lockscreen-submit"/>'+"</form>");t._form()}},_slider:function(e){var t=this;var n=t.obj.find(".lockscreen-slider-text");t.obj.find(".lockscreen-slider-inner").slider({value:1,slide:function(e,t){n.css("opacity",1-t.value/50)},start:function(){if(typeof t.o.start=="function"){t.o.start.call(this)}},stop:function(e,r){if(r.value>=t.o.unlockAt){setTimeout(function(){if(typeof t.o.success=="function"){t.o.success.call(this)}n.css("opacity",1);t.obj.find(".ui-slider-handle").css({left:0});return false},t.o.delayUnlock)}else{t.obj.find(".ui-slider-handle").animate({left:0},200);n.css("opacity",1);if(typeof t.o.fail=="function"){t.o.fail.call(this)}}}});var r=t.obj.find(".ui-slider-handle");if(r.children("i")){r.append('<i class="fa fa-chevron-right"></i>')}},_form:function(t){var n=this;n.obj.find("form").submit(function(){if(n.o.formAction!=""&&n.o.formAction!=" "){var t=e(this).find("input").not("[type=submit]");if(t.val().length>=n.o.minChar){e.ajax({type:"POST",data:n.obj.find(".lockscreen-password").val(),url:n.o.formAction,statusCode:{404:function(){alert("File not found(formAction)")}},start:function(){if(typeof n.o.start=="function"){n.o.start.call(this)}},success:function(){setTimeout(function(){t.val("");if(typeof n.o.success=="function"){n.o.success.call(this)}},n.o.delayUnlock)},error:function(){if(typeof n.o.fail=="function"){n.o.fail.call(this)}}});return false}else{if(typeof n.o.fail=="function"){n.o.fail.call(this)}return false}}else{alert("The option 'formAction' is empty!");return false}})},_button:function(e){var t=this;t.obj.on("click",".lockscreen-button a",function(e){if(typeof t.o.start=="function"){t.o.start.call(this)}setTimeout(function(){if(typeof t.o.success=="function"){t.o.success.call(this)}},t.o.delayUnlock);e.preventDefault()})},update:function(e){var t=this},destroy:function(){e.removeData(this.obj,this.pluginName)}};e.fn[t]=function(r,i){return this.each(function(){var s=e(this);var o=s.data(t);var u=typeof r=="object"&&r;if(!o){s.data(t,o=new n(this,u))}if(typeof r=="string"){o[r](i)}})};e.fn[t].defaults={type:"button",unlockText:"Unlock",delayUnlock:200,unlockAt:100,submitText:"Login",formAction:"",minChar:3,start:function(){},fail:function(){},success:function(){}}})